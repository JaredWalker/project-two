<div class="row">
    <form class="col s12" id="login-form">
        <div class="row">
            <div class="input-field col s12">
                <input placeholder="Enter your email address" id="username" type="text" class="validate">
                <label for="first_name">User Name</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input id="password" type="password" class="validate">
                <label for="password">Password</label>
            </div>
        </div>
        <button class="btn waves-effect waves-light" id="login" type="submit" name="action">Log In
            <i class="material-icons right">send</i>
        </button>
    </form>
</div>

<script>

    $("#login-form").submit(function (e) {
        $.ajax({
            method: "POST",
            url: "/api/login",
            data: {
                username: $("#username").val(),
                password: $("#password").val()
            }
        }).done(function (response) {
            location.replace("/gallery");
        })
            .fail(function (err) {
                alert("login failed");
            });
    });

</script>